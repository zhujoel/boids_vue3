(function(t){function e(e){for(var i,r,c=e[0],s=e[1],u=e[2],h=0,_=[];h<c.length;h++)r=c[h],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&_.push(o[r][0]),o[r]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i]);l&&l(e);while(_.length)_.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,c=1;c<n.length;c++){var s=n[c];0!==o[s]&&(i=!1)}i&&(a.splice(e--,1),t=r(r.s=n[0]))}return t}var i={},o={app:0},a=[];function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/boids_vue3/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=s;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},1751:function(t,e,n){},3086:function(t,e,n){"use strict";n("1751")},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("7a23");function o(t,e){var n=Object(i["x"])("router-view");return Object(i["q"])(),Object(i["e"])(n)}const a={};a.render=o;var r=a,c=n("6c02"),s={class:"home"};function u(t,e,n,o,a,r){var c=Object(i["x"])("MainWindow");return Object(i["q"])(),Object(i["e"])("div",s,[Object(i["h"])(c,{msg:"Welcome to Your Vue.js + TypeScript App"})])}var l=n("d4ec"),h=n("262e"),_=n("2caf"),d=n("9ab4"),p=n("ce1f"),f={id:"main"},v={id:"settings"},b=Object(i["h"])("div",{id:"canvas"},null,-1);function y(t,e,n,o,a,r){var c=Object(i["x"])("Settings");return Object(i["q"])(),Object(i["e"])("div",f,[Object(i["h"])("div",v,[Object(i["h"])(c)]),b])}var O=n("bee2"),j=n("7aaa"),m=(n("159b"),function(){function t(e,n){Object(l["a"])(this,t),this.x_=e,this.y_=n}return Object(O["a"])(t,[{key:"clone",value:function(){return new t(this.x_,this.y_)}},{key:"isNull",value:function(){return 0===this.x_&&0===this.y_}},{key:"dist",value:function(t){var e=t.x_-this.x_,n=t.y_-this.y_;return Math.sqrt(e*e+n*n)}},{key:"addP",value:function(t){return this.x_+=t.x_,this.y_+=t.y_,this}},{key:"addS",value:function(t){return this.x_+=t,this.y_+=t,this}},{key:"subP",value:function(t){return this.x_-=t.x_,this.y_-=t.y_,this}},{key:"norm2",value:function(){return Math.sqrt(this.x_*this.x_+this.y_*this.y_)}},{key:"dotProd",value:function(t){return this.x_*t.x_+this.y_*t.y_}},{key:"divS",value:function(t){return this.x_/=t,this.y_/=t,this}},{key:"multS",value:function(t){return this.x_*=t,this.y_*=t,this}}]),t}());function k(t,e,n,i,o){var a=new m(0,0),r=0;e.forEach((function(e){t.pos_.dist(e.pos_)<n&&t.inView(e,i)&&(a.addP(e.pos_),r++)})),r&&(a.divS(r).subP(t.pos_).multS(o),t.vel_.addP(a))}var w=function t(e){Object(l["a"])(this,t),this.params_={},this.name_=e},g=function(t){Object(h["a"])(n,t);var e=Object(_["a"])(n);function n(t,i,o,a){var r;return Object(l["a"])(this,n),r=e.call(this,t),r.params_.dist=i,r.params_.angle=o,r.params_.mag=a,r}return Object(O["a"])(n,[{key:"apply",value:function(t,e){var n=this,i=new m(0,0),o=0;e.forEach((function(e){t.pos_.dist(e.pos_)<n.params_.dist&&t.inView(e,n.params_.angle)&&(i.addP(e.vel_),o++)})),0!==o&&(i.divS(o).subP(t.vel_).multS(this.params_.mag),t.vel_.addP(i))}}]),n}(w);function x(t,e,n,i,o){var a=new m(0,0);e.forEach((function(e){t!==e&&t.pos_.dist(e.pos_)<n&&t.inView(e,i)&&(a.x_+=t.pos_.x_-e.pos_.x_,a.y_+=t.pos_.y_-e.pos_.y_)})),a.multS(o),t.vel_.addP(a)}n("a434");function P(t,e,n){for(var i=0;i<e.length;++i)if(t.pos_.dist(e[i].pos_)<n)return F.app_.stage.removeChild(e[i].graphics_),e.splice(i,1),!0;return!1}var S=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Line",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:16711680;Object(l["a"])(this,t),this.graphics_=new j["b"],this.size_=3,this.pos_=e,this.graphics_.x=e.x_,this.graphics_.y=e.y_,this.vel_=n,this.MAX_VEL=i,this.style_=o,this.color_=a,this.draw()}return Object(O["a"])(t,[{key:"inView",value:function(t,e){if(this.vel_.isNull())return!1;var n=this.vel_.clone(),i=t.pos_.clone().subP(this.pos_),o=n.norm2(),a=i.norm2(),r=n.dotProd(i)/(o*a);return Math.acos(r)<=e}},{key:"draw",value:function(){this.graphics_.position.x=this.pos_.x_,this.graphics_.position.y=this.pos_.y_,"Circle"===this.style_?this.graphics_.lineStyle(0).clear().beginFill(this.color_,2).drawCircle(this.graphics_.x,this.graphics_.y,this.size_).endFill():"Line"===this.style_&&this.graphics_.clear().lineStyle(this.size_,this.color_).moveTo(this.pos_.x_,this.pos_.y_).lineTo(this.pos_.x_+this.vel_.x_*this.size_,this.pos_.y_+this.vel_.y_*this.size_).closePath()}},{key:"limitVelocity",value:function(){var t=this.vel_.norm2();t>this.MAX_VEL&&this.vel_.divS(t).multS(this.MAX_VEL)}}]),t}();function M(t,e,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,r=t.pos_.x_,c=t.pos_.y_;r<o?t.vel_.x_+=e:r>n&&(t.vel_.x_-=e),c<a?t.vel_.y_+=e:c>i&&(t.vel_.y_-=e)}var V=function(){function t(e){Object(l["a"])(this,t),this.name_=e,this.rules_=[],this.boids_=[],this.others_=[]}return Object(O["a"])(t,[{key:"createRandomBoids",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Line",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16777215,o=0;o<t;++o){var a=this.createRandomBoid(e,n,i);this.boids_.push(a),F.app_.stage.addChild(a.graphics_)}}},{key:"createRandomBoid",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Line",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16777215;return new S(new m(Math.random()*F.width_/2,Math.random()*F.height_/2),new m(6*Math.random()-3,6*Math.random()-3),t,e,n)}},{key:"apply",value:function(t){t.limitVelocity(),this.applyOthers(t),M(t,1,F.width_/2,F.height_/2),t.pos_.addP(t.vel_),t.draw()}},{key:"applyOthers",value:function(t){this.others_.forEach((function(e){e.applyFlock(t)}))}}]),t}(),C=function(t){Object(h["a"])(n,t);var e=Object(_["a"])(n);function n(t){var i;return Object(l["a"])(this,n),i=e.call(this,t),i.rules_.push(new g("Alignment",100,.3*Math.PI,.05)),i}return Object(O["a"])(n,[{key:"applyFlock",value:function(t){x(t,this.boids_,100,.4*Math.PI,-5e-4),P(t,this.boids_,t.size_)&&t.size_++}},{key:"move",value:function(){var t=this;this.boids_.forEach((function(e){k(e,t.boids_,100,.3*Math.PI,.005),x(e,t.boids_,15,Math.PI,.05),t.rules_.forEach((function(n){n.apply(e,t.boids_)})),t.apply(e)}))}}]),n}(V),A=function(t){Object(h["a"])(n,t);var e=Object(_["a"])(n);function n(t){var i;return Object(l["a"])(this,n),i=e.call(this,t),F.interactions_.on("mouseup",(function(t){F.down&&i.wall(t)})).on("mousemove",(function(t){F.down&&i.wall(t)})),i}return Object(O["a"])(n,[{key:"wall",value:function(t){var e=new m(t.data.global.x,t.data.global.y);this.drawWall(e),this.boids_.push(new S(e.divS(2),new m(0,0),16711680))}},{key:"drawWall",value:function(t){var e=(new j["b"]).beginFill(0,1).drawCircle(t.x_,t.y_,2).endFill();F.app_.stage.addChild(e)}},{key:"applyFlock",value:function(t){x(t,this.boids_,10,Math.PI,.1)}},{key:"move",value:function(){}}]),n}(V),E=function(){function t(){Object(l["a"])(this,t),this.flocks_=[new C("Prey"),new A("Wall")],this.flocks_[0].createRandomBoids(200,3,"Line",255)}return Object(O["a"])(t,[{key:"move",value:function(t){this.flocks_.forEach((function(t){return t.move()})),t.update()}}]),t}(),F=function(){function t(){Object(l["a"])(this,t)}return Object(O["a"])(t,null,[{key:"setup",value:function(e,n){t.width_=e,t.height_=n,t.app_=new j["a"]({width:e,height:n,backgroundColor:15726589,antialias:!1,autoDensity:!1}),t.interactions_=new j["c"](t.app_.renderer),t.interactions_.on("mousedown",(function(){t.down=!0})),t.interactions_.on("mouseup",(function(){t.down=!1})),this.flocks_=new E}},{key:"randomNum",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Math.round(t-.5+Math.random()*(e-t+1))}}]),t}();F.down=!1;var q=Object(i["h"])("br",null,null,-1);function B(t,e,n,o,a,r){var c=this,s=Object(i["x"])("Button"),u=Object(i["x"])("Slider"),l=Object(i["x"])("AccordionTab"),h=Object(i["x"])("Accordion");return Object(i["q"])(),Object(i["e"])(i["a"],null,[Object(i["h"])(s,{class:"p-button-raised p-button-rounded",label:"Go",onClick:e[1]||(e[1]=function(e){return t.startStop()})}),q,Object(i["g"])(" "+Object(i["B"])(this.instruction)+" ",1),Object(i["h"])(h,{multiple:!0},{default:Object(i["F"])((function(){return[(Object(i["q"])(!0),Object(i["e"])(i["a"],null,Object(i["v"])(c.flocks.flocks_,(function(e){return Object(i["q"])(),Object(i["e"])(l,{key:e.name_,header:e.name_},{default:Object(i["F"])((function(){return[Object(i["g"])(Object(i["B"])(c.view.cnt)+" ",1),(Object(i["q"])(!0),Object(i["e"])(i["a"],null,Object(i["v"])(e.rules_,(function(t){return Object(i["q"])(),Object(i["e"])("div",{key:t.name_},[Object(i["g"])(Object(i["B"])(t.name_)+" ",1),Object(i["h"])(u,{min:0,max:500,modelValue:t.params_.dist,"onUpdate:modelValue":function(e){return t.params_.dist=e}},null,8,["modelValue","onUpdate:modelValue"])])})),128)),Object(i["h"])(s,{onClick:function(n){return t.deleteAccordion(e)}},null,8,["onClick"])]})),_:2},1032,["header"])})),128))]})),_:1}),Object(i["h"])(s,{onClick:e[2]||(e[2]=function(e){return t.addFlock()})})],64)}var L=function(){function t(e){Object(l["a"])(this,t),this.cnt=0,this.app_=e}return Object(O["a"])(t,[{key:"update",value:function(){this.cnt=this.app_.flocks_[0].boids_.length}}]),t}(),T=function(t){Object(h["a"])(n,t);var e=Object(_["a"])(n);function n(){var t;return Object(l["a"])(this,n),t=e.apply(this,arguments),t.start=!1,t.instruction="Click on the canvas to draw walls!",t.flocks=F.flocks_,t.view=new L(F.flocks_),t.sliderno=0,t}return Object(O["a"])(n,[{key:"mounted",value:function(){var t=this;this.$nextTick((function(){t.animate()}))}},{key:"animate",value:function(){var t=this;F.app_.ticker.add((function(){t.start&&F.flocks_.move(t.view)}))}},{key:"startStop",value:function(){this.start=!this.start}},{key:"addFlock",value:function(){this.flocks.flocks_.push(new C("Pr2"))}},{key:"deleteAccordion",value:function(t){var e=this.flocks.flocks_.indexOf(t);this.flocks.flocks_.splice(e,1)}}]),n}(p["b"]);T.render=B;var z=T,W=function(t){Object(h["a"])(n,t);var e=Object(_["a"])(n);function n(){return Object(l["a"])(this,n),e.apply(this,arguments)}return Object(O["a"])(n,[{key:"created",value:function(){F.setup(.8*window.innerWidth,window.innerHeight)}},{key:"mounted",value:function(){var t=document.getElementById("canvas");t.appendChild(F.app_.view)}}]),n}(p["b"]);W=Object(d["a"])([Object(p["a"])({components:{Settings:z}})],W);var I=W;n("3086");I.render=y;var R=I,N=function(t){Object(h["a"])(n,t);var e=Object(_["a"])(n);function n(){return Object(l["a"])(this,n),e.apply(this,arguments)}return n}(p["b"]);N=Object(d["a"])([Object(p["a"])({components:{MainWindow:R}})],N);var X=N;X.render=u;var H=X,J=[{path:"/",name:"Home",component:H}],U=Object(c["a"])({history:Object(c["b"])("/boids_vue3/"),routes:J}),D=U,G=n("9319"),Y=n("bb57"),$=n("de53"),K=n("c8c8"),Q=n("14f2");n("098b"),n("e1ae"),n("4121");Object(i["d"])(r).use(D).use(G["a"]).component("Button",Y["a"]).component("Accordion",$["a"]).component("AccordionTab",K["a"]).component("Slider",Q["a"]).mount("#app")}});
//# sourceMappingURL=app.756affab.js.map