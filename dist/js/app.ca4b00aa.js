(function(t){function e(e){for(var i,a,r=e[0],s=e[1],l=e[2],h=0,f=[];h<r.length;h++)a=r[h],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i]);u&&u(e);while(f.length)f.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],i=!0,r=1;r<n.length;r++){var s=n[r];0!==o[s]&&(i=!1)}i&&(c.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},o={app:0},c=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/boids_vue3/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],s=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=s;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},3616:function(t,e,n){"use strict";n("56c8")},5378:function(t,e,n){"use strict";n("bb07")},"56c8":function(t,e,n){},"73f1":function(t,e,n){t.exports=n.p+"img/fish.6f1fc584.png"},b99d:function(t,e,n){t.exports=n.p+"img/shark.7f2f0dd2.svg"},bb07:function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("7a23");function o(t,e){var n=Object(i["y"])("router-view");return Object(i["r"])(),Object(i["f"])(n)}const c={};c.render=o;var a=c,r=n("6c02"),s={class:"home"};function l(t,e,n,o,c,a){var r=Object(i["y"])("MainWindow");return Object(i["r"])(),Object(i["f"])("div",s,[Object(i["i"])(r,{msg:"Welcome to Your Vue.js + TypeScript App"})])}var u=n("d4ec"),h=n("262e"),f=n("2caf"),_=n("9ab4"),d=n("ce1f"),p={id:"main"},v={id:"settings"},b=Object(i["i"])("div",{id:"canvas"},null,-1);function y(t,e,n,o,c,a){var r=Object(i["y"])("Settings");return Object(i["r"])(),Object(i["f"])("div",p,[Object(i["i"])("div",v,[Object(i["i"])(r)]),b])}var k=n("bee2"),O=n("7aaa"),m=(n("159b"),function(){function t(e,n){Object(u["a"])(this,t),this.x_=e,this.y_=n}return Object(k["a"])(t,[{key:"clone",value:function(){return new t(this.x_,this.y_)}},{key:"isNull",value:function(){return 0===this.x_&&0===this.y_}},{key:"dist",value:function(t){var e=t.x_-this.x_,n=t.y_-this.y_;return Math.sqrt(e*e+n*n)}},{key:"addP",value:function(t){return this.x_+=t.x_,this.y_+=t.y_,this}},{key:"addS",value:function(t){return this.x_+=t,this.y_+=t,this}},{key:"subP",value:function(t){return this.x_-=t.x_,this.y_-=t.y_,this}},{key:"norm2",value:function(){return Math.sqrt(this.x_*this.x_+this.y_*this.y_)}},{key:"dotProd",value:function(t){return this.x_*t.x_+this.y_*t.y_}},{key:"divS",value:function(t){return this.x_/=t,this.y_/=t,this}},{key:"multS",value:function(t){return this.x_*=t,this.y_*=t,this}}]),t}());function j(t,e,n,i,o){var c=new m(0,0);e.forEach((function(e){t!==e&&t.pos_.dist(e.pos_)<n&&t.inView(e,i)&&(c.x_+=t.pos_.x_-e.pos_.x_,c.y_+=t.pos_.y_-e.pos_.y_)})),c.multS(o),t.vel_.addP(c)}var g=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16711680;Object(u["a"])(this,t),this.graphics_=new O["b"],this.size_=3,this.pos_=e,this.graphics_.x=e.x_,this.graphics_.y=e.y_,this.vel_=n,this.MAX_VEL=i,this.color_=o,this.draw()}return Object(k["a"])(t,[{key:"inView",value:function(t,e){if(this.vel_.isNull())return!1;var n=this.vel_.clone(),i=t.pos_.clone().subP(this.pos_),o=n.norm2(),c=i.norm2(),a=n.dotProd(i)/(o*c);return Math.acos(a)<=e}},{key:"draw",value:function(){this.graphics_.position.x=this.pos_.x_,this.graphics_.position.y=this.pos_.y_,this.graphics_.clear().lineStyle(this.size_,this.color_).moveTo(this.pos_.x_,this.pos_.y_).lineTo(this.pos_.x_+this.vel_.x_*this.size_,this.pos_.y_+this.vel_.y_*this.size_).closePath()}},{key:"limitVelocity",value:function(){var t=this.vel_.norm2(),e=Math.max(this.MAX_VEL-.3*this.size_,.4);t>e&&this.vel_.divS(t).multS(e)}}]),t}();function w(t,e,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=t.pos_.x_,r=t.pos_.y_;a<o?t.vel_.x_+=e:a>n&&(t.vel_.x_-=e),r<c?t.vel_.y_+=e:r>i&&(t.vel_.y_-=e)}var x=function(){function t(e){Object(u["a"])(this,t),this.name_=e,this.rules_=[],this.boids_=[],this.others_=[]}return Object(k["a"])(t,[{key:"createRandomBoids",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16777215,i=0;i<t;++i){var o=this.createRandomBoid(e,n);this.boids_.push(o),E.app_.stage.addChild(o.graphics_)}}},{key:"createRandomBoid",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16777215;return new g(new m(Math.random()*E.width_/2,Math.random()*E.height_/2),new m(6*Math.random()-3,6*Math.random()-3),t,e)}},{key:"apply",value:function(t){t.limitVelocity(),this.applyOthers(t),w(t,1,E.width_/2,E.height_/2),t.pos_.addP(t.vel_),t.draw()}},{key:"applyOthers",value:function(t){this.others_.forEach((function(e){e.applyFlock(t)}))}}]),t}(),P=function(t){Object(h["a"])(n,t);var e=Object(f["a"])(n);function n(){return Object(u["a"])(this,n),e.apply(this,arguments)}return Object(k["a"])(n,[{key:"isPreyFlock",value:function(){return!1}},{key:"applyFlock",value:function(t){j(t,this.boids_,E.randomNum(1,35),.4*Math.PI,.2)}},{key:"move",value:function(){var t=this;this.boids_.forEach((function(e){j(e,t.boids_,75,Math.PI,.5),t.apply(e)}))}}]),n}(x);function S(t,e,n,i,o){var c=new m(0,0),a=0;e.forEach((function(e){t.pos_.dist(e.pos_)<n&&t.inView(e,i)&&(c.addP(e.pos_),a++)})),a&&(c.divS(a).subP(t.pos_).multS(o),t.vel_.addP(c))}var M=function t(e){Object(u["a"])(this,t),this.params_={},this.name_=e},C=function(t){Object(h["a"])(n,t);var e=Object(f["a"])(n);function n(t,i,o,c){var a;return Object(u["a"])(this,n),a=e.call(this,t),a.params_.dist=i,a.params_.angle=o,a.params_.mag=c,a}return Object(k["a"])(n,[{key:"apply",value:function(t,e){var n=this,i=new m(0,0),o=0;e.forEach((function(e){t.pos_.dist(e.pos_)<n.params_.dist&&t.inView(e,n.params_.angle)&&(i.addP(e.vel_),o++)})),0!==o&&(i.divS(o).subP(t.vel_).multS(this.params_.mag),t.vel_.addP(i))}}]),n}(M);n("a434");function F(t,e,n){for(var i=0;i<e.length;++i)if(t.pos_.dist(e[i].pos_)<n)return E.removeBoidFromApp(e[i]),e.splice(i,1),!0;return!1}var A=function(t){Object(h["a"])(n,t);var e=Object(f["a"])(n);function n(t){var i;return Object(u["a"])(this,n),i=e.call(this,t),i.rules_.push(new C("Alignment",100,.3*Math.PI,.05)),i}return Object(k["a"])(n,[{key:"isPreyFlock",value:function(){return!0}},{key:"applyFlock",value:function(t){j(t,this.boids_,100,.4*Math.PI,-5e-4),F(t,this.boids_,.5*t.size_)&&t.size_++}},{key:"move",value:function(){var t=this;this.boids_.forEach((function(e){S(e,t.boids_,100,.3*Math.PI,.005),j(e,t.boids_,15,Math.PI,.05),t.rules_.forEach((function(n){n.apply(e,t.boids_)})),t.apply(e)}))}}]),n}(x),V=function(t){Object(h["a"])(n,t);var e=Object(f["a"])(n);function n(t){var i;return Object(u["a"])(this,n),i=e.call(this,t),E.interactions_.on("mouseup",(function(t){E.down&&i.wall(t)})).on("mousemove",(function(t){E.down&&i.wall(t)})),i}return Object(k["a"])(n,[{key:"isPreyFlock",value:function(){return!1}},{key:"wall",value:function(t){var e=new m(t.data.global.x,t.data.global.y),n=new g(e.divS(2),new m(0,0),16711680);this.boids_.push(n),n.graphics_=(new O["b"]).beginFill(0,1).drawCircle(2*n.pos_.x_,2*n.pos_.y_,2).endFill(),E.app_.stage.addChild(n.graphics_)}},{key:"drawWall",value:function(t){var e=(new O["b"]).beginFill(0,1).drawCircle(t.x_,t.y_,2).endFill();E.app_.stage.addChild(e)}},{key:"applyFlock",value:function(t){j(t,this.boids_,10,Math.PI,.1)}},{key:"move",value:function(){}}]),n}(x),B=function(){function t(){Object(u["a"])(this,t),this.walls_=new V("Wall"),this.flocks_=[new P("Predator"),new A("Prey")],this.flocks_[0].others_.push(this.flocks_[1]),this.flocks_[1].others_.push(this.flocks_[0]),this.flocks_[0].others_.push(this.walls_),this.flocks_[1].others_.push(this.walls_),this.flocks_[0].createRandomBoids(3,2,16711680),this.flocks_[1].createRandomBoids(200,3,255)}return Object(k["a"])(t,[{key:"move",value:function(t){this.flocks_.forEach((function(t){return t.move()})),t.update()}}]),t}(),E=function(){function t(){Object(u["a"])(this,t)}return Object(k["a"])(t,null,[{key:"setup",value:function(e,n){t.width_=e,t.height_=n,t.app_=new O["a"]({width:e,height:n,backgroundColor:15726589,antialias:!1,autoDensity:!1}),t.interactions_=new O["c"](t.app_.renderer),t.interactions_.on("mousedown",(function(){t.down=!0})),t.interactions_.on("mouseup",(function(){t.down=!1})),this.flocks_=new B}},{key:"randomNum",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Math.round(t-.5+Math.random()*(e-t+1))}},{key:"removeBoidFromApp",value:function(e){t.app_.stage.removeChild(e.graphics_)}},{key:"removeFlockFromApp",value:function(e){for(var n=0;n<e.boids_.length;++n)t.removeBoidFromApp(e.boids_[n])}}]),t}();E.down=!1;var I=n("73f1"),N=n.n(I),T=n("b99d"),z=n.n(T),R=Object(i["i"])("br",null,null,-1),W={key:0,alt:"logo",src:N.a,style:{width:"1.5rem"}},G={key:1,alt:"logo",src:z.a,style:{width:"1.5rem"}},U={id:"flock-input"},q={key:0,alt:"logo",src:N.a,style:{width:"1.5rem"}},D={key:1,alt:"logo",src:z.a,style:{width:"1.5rem"}};function H(t,e,n,o,c,a){var r=this,s=Object(i["y"])("Button"),l=Object(i["y"])("Slider"),u=Object(i["y"])("AccordionTab"),h=Object(i["y"])("Accordion"),f=Object(i["y"])("InputText");return Object(i["r"])(),Object(i["f"])(i["a"],null,[Object(i["i"])(s,{class:"start-btn",label:"Go",onClick:e[1]||(e[1]=function(e){return t.startStop()})}),R,Object(i["i"])(h,{multiple:!0},{default:Object(i["G"])((function(){return[(Object(i["r"])(!0),Object(i["f"])(i["a"],null,Object(i["w"])(r.flocks.flocks_,(function(e){return Object(i["r"])(),Object(i["f"])(u,{key:e.name_},{header:Object(i["G"])((function(){return[Object(i["i"])("span",null,Object(i["C"])(e.name_),1),e.isPreyFlock()?(Object(i["r"])(),Object(i["f"])("img",W)):(Object(i["r"])(),Object(i["f"])("img",G))]})),default:Object(i["G"])((function(){return[Object(i["h"])(" "+Object(i["C"])(r.view.counter(e))+" ",1),Object(i["i"])("input",{type:"color",onChange:function(n){return t.changeColor(n,e)}},null,40,["onChange"]),(Object(i["r"])(!0),Object(i["f"])(i["a"],null,Object(i["w"])(e.rules_,(function(t){return Object(i["r"])(),Object(i["f"])("div",{key:t.name_},[Object(i["h"])(Object(i["C"])(t.name_)+" ",1),Object(i["i"])(l,{min:0,max:500,modelValue:t.params_.dist,"onUpdate:modelValue":function(e){return t.params_.dist=e}},null,8,["modelValue","onUpdate:modelValue"])])})),128)),Object(i["i"])(s,{label:"Add",onClick:function(n){return t.addBoids(e)}},null,8,["onClick"]),Object(i["i"])(s,{label:"Delete",onClick:function(n){return t.deleteAccordion(e)}},null,8,["onClick"])]})),_:2},1024)})),128))]})),_:1}),Object(i["i"])("div",U,[Object(i["i"])(s,{onClick:e[2]||(e[2]=function(e){return t.changeIcon()})},{default:Object(i["G"])((function(){return[r.preySelected?(Object(i["r"])(),Object(i["f"])("img",q)):(Object(i["r"])(),Object(i["f"])("img",D))]})),_:1}),Object(i["i"])(f,{id:"add-flock-name",modelValue:this.flockName,"onUpdate:modelValue":e[3]||(e[3]=function(t){return r.flockName=t})},null,8,["modelValue"]),Object(i["i"])(s,{class:"p-button-text",id:"add-flock-btn",label:"Add Flock",onClick:e[4]||(e[4]=function(e){return t.addFlock()})})])],64)}n("fb6a");var J=function(){function t(e){Object(u["a"])(this,t),this.cnts_=[0,0],this.app_=e}return Object(k["a"])(t,[{key:"update",value:function(){for(var t=0;t<this.app_.flocks_.length;++t)this.cnts_[t]=this.app_.flocks_[t].boids_.length}},{key:"counter",value:function(t){var e=this.app_.flocks_.indexOf(t);return this.cnts_[e]}}]),t}(),L=function(t){Object(h["a"])(n,t);var e=Object(f["a"])(n);function n(){var t;return Object(u["a"])(this,n),t=e.apply(this,arguments),t.start=!1,t.flocks=E.flocks_,t.view=new J(E.flocks_),t.flockName="New Flock",t.preySelected=!0,t}return Object(k["a"])(n,[{key:"mounted",value:function(){var t=this;this.$nextTick((function(){t.animate()}))}},{key:"animate",value:function(){var t=this;E.app_.ticker.add((function(){t.start&&E.flocks_.move(t.view)}))}},{key:"changeColor",value:function(t,e){var n=t.target.value,i=this.flocks.flocks_.indexOf(e);E.flocks_.flocks_[i].boids_.forEach((function(t){console.log(parseInt(n.slice(1),16)),t.color_=parseInt(n.slice(1),16)}))}},{key:"startStop",value:function(){this.start=!this.start}},{key:"changeIcon",value:function(){this.preySelected=!this.preySelected}},{key:"addBoids",value:function(t){var e=this.flocks.flocks_.indexOf(t);E.flocks_.flocks_[e].createRandomBoids(10,3,16711680)}},{key:"addFlock",value:function(){var t=this.preySelected?new A(this.flockName):new P(this.flockName);E.flocks_.flocks_.forEach((function(e){e instanceof A&&(e.others_.push(t),t.others_.push(e))})),this.flocks.flocks_.push(t)}},{key:"deleteAccordion",value:function(t){var e=this.flocks.flocks_.indexOf(t);E.removeFlockFromApp(E.flocks_.flocks_[e]),this.flocks.flocks_.splice(e,1),this.flocks.flocks_.forEach((function(t){var e=t.others_.indexOf(t);t.others_.splice(e,1)}))}}]),n}(d["b"]);n("3616");L.render=H;var X=L,Y=function(t){Object(h["a"])(n,t);var e=Object(f["a"])(n);function n(){return Object(u["a"])(this,n),e.apply(this,arguments)}return Object(k["a"])(n,[{key:"created",value:function(){E.setup(.8*window.innerWidth,window.innerHeight)}},{key:"mounted",value:function(){var t=document.getElementById("canvas");t.appendChild(E.app_.view)}}]),n}(d["b"]);Y=Object(_["a"])([Object(d["a"])({components:{Settings:X}})],Y);var $=Y;n("5378");$.render=y;var K=$,Q=function(t){Object(h["a"])(n,t);var e=Object(f["a"])(n);function n(){return Object(u["a"])(this,n),e.apply(this,arguments)}return n}(d["b"]);Q=Object(_["a"])([Object(d["a"])({components:{MainWindow:K}})],Q);var Z=Q;Z.render=l;var tt=Z,et=[{path:"/",name:"Home",component:tt}],nt=Object(r["a"])({history:Object(r["b"])("/boids_vue3/"),routes:et}),it=nt,ot=n("9319"),ct=n("bb57"),at=n("de53"),rt=n("c8c8"),st=n("14f2"),lt=n("8398"),ut=n("e75f");n("098b"),n("e1ae"),n("4121");Object(i["e"])(a).use(it).use(ot["a"]).component("Button",ct["a"]).component("Accordion",at["a"]).component("AccordionTab",rt["a"]).component("Slider",st["a"]).component("InputText",lt["a"]).component("ColorPicker",ut["a"]).mount("#app")}});
//# sourceMappingURL=app.ca4b00aa.js.map